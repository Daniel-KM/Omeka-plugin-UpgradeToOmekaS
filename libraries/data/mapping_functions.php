<?php

/**
 * Mapping of global functions from Omeka C to Omeka S. It can be completed.
 *
 * @internal This file is merged during the init of processors of the plugins.
 *
 * @internal Unlike the variables, the process uses preg_replace(), so keys and
 * replacements are regex.
 *
 * @internal The key for get_view() should be adapted if used in a plugin.
 */
return array(
    // List of all functions of "globals.php" of Omeka 2 to methods of Omekas S.
    '~\b(get_option)\(~'                            => '$this->setting(',
    '~\b(set_option)\(~'                            => '$this->upgrade()->\1(',
    '~\b(delete_option)\(~'                         => '$this->upgrade()->\1(',
    '~\b(pluck)\(~'                                 => '$this->upgrade()->\1(',
    '~\b(current_user)\(~'                          => '$this->upgrade()->\1(',
    '~\b(get_db)\(~'                                => '$this->upgrade()->\1(',
    '~\b(debug)\(~'                                 => '$this->upgrade()->\1(',
    '~\b(_log)\(~'                                  => '$this->upgrade()->\1(',
    '~\b(add_plugin_hook)\(~'                       => '$this->upgrade()->\1(',
    '~\b(fire_plugin_hook)\(~'                      => '$this->upgrade()->\1(',
    '~\b(get_plugin_hook_output)\(~'                => '$this->upgrade()->\1(',
    '~\b(get_specific_plugin_hook_output)\(~'       => '$this->upgrade()->\1(',
    '~\b(get_plugin_broker)\(~'                     => '$this->upgrade()->\1(',
    '~\b(get_plugin_ini)\(~'                        => '$this->upgrade()->\1(',
    '~\b(add_file_display_callback)\(~'             => '$this->upgrade()->\1(',
    '~\b(add_file_fallback_image)\(~'               => '$this->upgrade()->\1(',
    '~\b(apply_filters)\(~'                         => '$this->upgrade()->\1(',
    '~\b(add_filter)\(~'                            => '$this->upgrade()->\1(',
    '~\b(clear_filters)\(~'                         => '$this->upgrade()->\1(',
    '~\b(get_acl)\(~'                               => '$this->upgrade()->\1(',
    '~\b(is_admin_theme)\(~'                        => '$this->upgrade()->\1(',
    '~\b(get_search_record_types)\(~'               => '$this->upgrade()->\1(',
    '~\b(get_custom_search_record_types)\(~'        => '$this->upgrade()->\1(',
    '~\b(get_search_query_types)\(~'                => '$this->upgrade()->\1(',
    '~\b(insert_item)\(~'                           => '$this->upgrade()->\1(',
    '~\b(insert_files_for_item)\(~'                 => '$this->upgrade()->\1(',
    '~\b(update_item)\(~'                           => '$this->upgrade()->\1(',
    '~\b(update_collection)\(~'                     => '$this->upgrade()->\1(',
    '~\b(insert_item_type)\(~'                      => '$this->upgrade()->\1(',
    '~\b(insert_collection)\(~'                     => '$this->upgrade()->\1(',
    '~\b(insert_element_set)\(~'                    => '$this->upgrade()->\1(',
    '~\b(release_object)\(~'                        => '$this->upgrade()->\1(',
    '~\b(get_theme_option)\(~'                      => '$this->upgrade()->\1(',
    '~\b(set_theme_option)\(~'                      => '$this->upgrade()->\1(',
    '~\b(get_user_roles)\(~'                        => '$this->upgrade()->\1(',
    '~\b(element_exists)\(~'                        => '$this->upgrade()->\1(',
    '~\b(plugin_is_active)\(~'                      => '$this->upgrade()->\1(',
    '~\b(__)\(~'                                    => '$this->upgrade()->stranslate(',
    '~\b(plural)\(~'                                => '$this->upgrade()->\1(',
    '~\b(add_translation_source)\(~'                => '$this->upgrade()->\1(',
    '~\b(get_html_lang)\(~'                         => '$this->upgrade()->\1(',
    '~\b(format_date)\(~'                           => '$this->upgrade()->\1(',
    '~\b(queue_js_file)\(~'                         => '$this->upgrade()->\1(',
    '~\b(queue_js_url)\(~'                          => '$this->upgrade()->\1(',
    '~\b(queue_js_string)\(~'                       => '$this->upgrade()->\1(',
    '~\b(queue_css_file)\(~'                        => '$this->upgrade()->\1(',
    '~\b(queue_css_url)\(~'                         => '$this->upgrade()->\1(',
    '~\b(queue_css_string)\(~'                      => '$this->upgrade()->\1(',
    '~\b(head_js)\(~'                               => '$this->upgrade()->\1(',
    '~\b(head_css)\(~'                              => '$this->upgrade()->\1(',
    '~\b(css_src)\(~'                               => '$this->upgrade()->\1(',
    '~\b(img)\(~'                                   => '$this->upgrade()->\1(',
    '~\b(js_tag)\(~'                                => '$this->upgrade()->\1(',
    '~\b(src)\(~'                                   => '$this->upgrade()->\1(',
    '~\b(physical_path_to)\(~'                      => '$this->upgrade()->\1(',
    '~\b(web_path_to)\(~'                           => '$this->upgrade()->\1(',
    '~\b(random_featured_collection)\(~'            => '$this->upgrade()->\1(',
    '~\b(get_collection_for_item)\(~'               => '$this->upgrade()->\1(',
    '~\b(get_recent_collections)\(~'                => '$this->upgrade()->\1(',
    '~\b(get_random_featured_collection)\(~'        => '$this->upgrade()->\1(',
    '~\b(latest_omeka_version)\(~'                  => '$this->upgrade()->\1(',
    '~\b(max_file_size)\(~'                         => '$this->uploadLimit(',
    '~\b(file_markup)\(~'                           => '$this->upgrade()->\1(',
    '~\b(file_id3_metadata)\(~'                     => '$this->upgrade()->\1(',
    '~\b(get_recent_files)\(~'                      => '$this->upgrade()->\1(',
    '~\b(tag_attributes)\(~'                        => '$this->upgrade()->\1(',
    '~\b(search_form)\(~'                           => '$this->upgrade()->\1(',
    '~\b(search_filters)\(~'                        => '$this->upgrade()->\1(',
    '~\b(element_form)\(~'                          => '$this->upgrade()->\1(',
    '~\b(element_set_form)\(~'                      => '$this->upgrade()->\1(',
    '~\b(label_table_options)\(~'                   => '$this->upgrade()->\1(',
    '~\b(get_table_options)\(~'                     => '$this->upgrade()->\1(',
    '~\b(get_view)\(\)~'                            => '$this', // Only in themes, not in plugins.
    '~\b(get_view)\(~'                              => '$this->upgrade()->\1(',
    '~\b(auto_discovery_link_tags)\(~'              => '$this->upgrade()->\1(',
    '~\b(common)\(~'                                => '$this->upgrade()->\1(',
    '~\b(head)\(~'                                  => '$this->upgrade()->\1(',
    '~\b(foot)\(~'                                  => '$this->upgrade()->\1(',
    '~\b(flash)\(~'                                 => '$this->messages(',
    '~\b(option)\(~'                                => '$this->upgrade()->\1(',
    '~\b(get_records)\(~'                           => '$this->upgrade()->\1(',
    '~\b(get_record)\(~'                            => '$this->upgrade()->\1(',
    '~\b(total_records)\(~'                         => '$this->upgrade()->\1(',
    '~\b(loop)\(~'                                  => '$this->upgrade()->\1(',
    '~\b(set_loop_records)\(~'                      => '$this->upgrade()->\1(',
    '~\b(get_loop_records)\(~'                      => '$this->upgrade()->\1(',
    '~\b(has_loop_records)\(~'                      => '$this->upgrade()->\1(',
    '~\b(set_current_record)\(~'                    => '$this->upgrade()->\1(',
    '~\b(get_current_record)\(~'                    => '$this->upgrade()->\1(',
    '~\b(get_record_by_id)\(~'                      => '$this->upgrade()->\1(',
    '~\b(get_current_action_contexts)\(~'           => '$this->upgrade()->\1(',
    '~\b(output_format_list)\(~'                    => '$this->upgrade()->\1(',
    '~\b(browse_sort_links)\(~'                     => '$this->upgrade()->\1(',
    '~\b(body_tag)\(~'                              => '$this->upgrade()->\1(',
    '~\b(item_search_filters)\(~'                   => '$this->upgrade()->\1(',
    '~\b(metadata)\(~'                              => '$this->upgrade()->\1(',
    '~\b(all_element_texts)\(~'                     => '$this->upgrade()->\1(',
    '~\b(files_for_item)\(~'                        => '$this->upgrade()->\1(',
    '~\b(get_next_item)\(~'                         => '$this->upgrade()->\1(',
    '~\b(get_previous_item)\(~'                     => '$this->upgrade()->\1(',
    '~\b(record_image)\(~'                          => '$this->upgrade()->\1(',
    '~\b(item_image)\(~'                            => '$this->upgrade()->\1(',
    '~\b(file_image)\(~'                            => '$this->upgrade()->\1(',
    '~\b(item_image_gallery)\(~'                    => '$this->upgrade()->\1(',
    '~\b(items_search_form)\(~'                     => '$this->upgrade()->\1(',
    '~\b(get_recent_items)\(~'                      => '$this->upgrade()->\1(',
    '~\b(get_random_featured_items)\(~'             => '$this->upgrade()->\1(',
    '~\b(recent_items)\(~'                          => '$this->upgrade()->\1(',
    '~\b(random_featured_items)\(~'                 => '$this->upgrade()->\1(',
    '~\b(item_type_elements)\(~'                    => '$this->upgrade()->\1(',
    '~\b(link_to)\(~'                               => '$this->upgrade()->\1(',
    '~\b(link_to_item_search)\(~'                   => '$this->upgrade()->\1(',
    '~\b(link_to_items_browse)\(~'                  => '$this->upgrade()->\1(',
    '~\b(link_to_collection_for_item)\(~'           => '$this->upgrade()->\1(',
    '~\b(link_to_items_in_collection)\(~'           => '$this->upgrade()->\1(',
    '~\b(link_to_items_with_item_type)\(~'          => '$this->upgrade()->\1(',
    '~\b(link_to_file_show)\(~'                     => '$this->upgrade()->\1(',
    '~\b(link_to_item)\(~'                          => '$this->upgrade()->\1(',
    '~\b(link_to_items_rss)\(~'                     => '$this->upgrade()->\1(',
    '~\b(link_to_next_item_show)\(~'                => '$this->upgrade()->\1(',
    '~\b(link_to_previous_item_show)\(~'            => '$this->upgrade()->\1(',
    '~\b(link_to_collection)\(~'                    => '$this->upgrade()->\1(',
    '~\b(link_to_home_page)\(~'                     => '$this->upgrade()->\1(',
    '~\b(link_to_admin_home_page)\(~'               => '$this->upgrade()->\1(',
    '~\b(nav)\(~'                                   => '$this->upgrade()->\1(',
    '~\b(pagination_links)\(~'                      => '$this->upgrade()->\1(',
    '~\b(public_nav_main)\(~'                       => '$this->upgrade()->\1(',
    '~\b(public_nav_items)\(~'                      => '$this->upgrade()->\1(',
    '~\b(html_escape)\(~'                           => '$this->escapeHtml(',
    '~\b(js_escape)\(~'                             => '$this->escapeJs(',
    '~\b(xml_escape)\(~'                            => '$this->upgrade()->\1(',
    '~\b(text_to_paragraphs)\(~'                    => '$this->upgrade()->\1(',
    '~\b(snippet)\(~'                               => '$this->upgrade()->\1(',
    '~\b(snippet_by_word_count)\(~'                 => '$this->upgrade()->\1(',
    '~\b(strip_formatting)\(~'                      => '$this->upgrade()->\1(',
    '~\b(text_to_id)\(~'                            => '$this->upgrade()->\1(',
    '~\b(url_to_link)\(~'                           => '$this->upgrade()->\1(',
    '~\b(url_to_link_callback)\(~'                  => '$this->upgrade()->\1(',
    '~\b(get_recent_tags)\(~'                       => '$this->upgrade()->\1(',
    '~\b(tag_cloud)\(~'                             => '$this->upgrade()->\1(',
    '~\b(tag_string)\(~'                            => '$this->upgrade()->\1(',
    '~\b(url)\(~'                                   => '$this->upgrade()->\1(',
    '~\b(absolute_url)\(~'                          => '$this->upgrade()->\1(',
    '~\b(current_url)\(~'                           => '$this->upgrade()->\1(',
    '~\b(is_current_url)\(~'                        => '$this->upgrade()->\1(',
    '~\b(record_url)\(~'                            => '$this->upgrade()->\1(',
    '~\b(items_output_url)\(~'                      => '$this->upgrade()->\1(',
    '~\b(file_display_url)\(~'                      => '$this->upgrade()->\1(',
    '~\b(public_url)\(~'                            => '$this->upgrade()->\1(',
    '~\b(admin_url)\(~'                             => '$this->upgrade()->\1(',
    '~\b(set_theme_base_url)\(~'                    => '$this->upgrade()->\1(',
    '~\b(revert_theme_base_url)\(~'                 => '$this->upgrade()->\1(',
    '~\b(theme_logo)\(~'                            => '$this->upgrade()->\1(',
    '~\b(theme_header_image)\(~'                    => '$this->upgrade()->\1(',
    '~\b(theme_header_background)\(~'               => '$this->upgrade()->\1(',
    '~\b(is_allowed)\(~'                            => '$this->userIsAllowed(',
    '~\b(add_shortcode)\(~'                         => '$this->upgrade()->\1(',

    // Some fixes.
    '~' . preg_quote('$this->$this->') . '~'        => '$this->',
    '~' . preg_quote('$this->upgrade()->$this->upgrade()->') . '~' => '$this->upgrade()->',

    // Other functions.
    '~' . preg_quote('$this->shortcodes(') . '~'    => '$this->upgrade()->fallback(\'shortcodes\', ',

    '~' . preg_quote('$this->view->pluralize(') . '~'   => '\Doctrine\Common\Inflector\Inflector::pluralize(',
    '~' . preg_quote('$this->view->singularize(') . '~' => '\Doctrine\Common\Inflector\Inflector::singularize(',
    '~\b' . preg_quote('Inflector::pluralize(') . '~'   => '\Doctrine\Common\Inflector\Inflector::pluralize(',
    '~\b' . preg_quote('Inflector::singularize(') . '~' => '\Doctrine\Common\Inflector\Inflector::singularize(',
    '~\b' . preg_quote('Inflector::camelize(') . '~'    => '\Doctrine\Common\Inflector\Inflector::camelize(',
    '~\b' . preg_quote('Inflector::tableize(') . '~'    => '\Doctrine\Common\Inflector\Inflector::tableize(',
    '~\b' . preg_quote('Inflector::classify(') . '~'    => '\Doctrine\Common\Inflector\Inflector::classify(',
    '~\b' . preg_quote('Inflector::ordinalize(') . '~'  => '\Doctrine\Common\Inflector\Inflector::ordinalize(',
    '~\b' . preg_quote('Inflector::titleize(') . '~'    => '\UpgradeFrom\View\Helper\Inflector::titleize(',
    '~\b' . preg_quote('Inflector::underscore(') . '~'  => '\UpgradeFrom\View\Helper\Inflector::underscore(',
    '~\b' . preg_quote('Inflector::humanize(') . '~'    => '\UpgradeFrom\View\Helper\Inflector::humanize(',
    '~\b' . preg_quote('Inflector::variablize(') . '~'  => '\UpgradeFrom\View\Helper\Inflector::variablize(',
    '~\b' . preg_quote('Inflector::ordinalize(') . '~'  => '\UpgradeFrom\View\Helper\Inflector::ordinalize(',

);
